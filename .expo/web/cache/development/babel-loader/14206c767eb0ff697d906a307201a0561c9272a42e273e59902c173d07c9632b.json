{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useState, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport CameraComponent from \"./CameraComponent\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar App = function App() {\n  var cameraRef = useRef(null);\n  var handleVoiceCommand = function handleVoiceCommand(command) {\n    console.log(command);\n  };\n  var takePicture = function () {\n    var _ref = _asyncToGenerator(function* () {\n      if (cameraRef.current) {\n        var photo = yield cameraRef.current.takePictureAsync({\n          base64: true\n        });\n        console.log(photo.base64);\n        var base64Image = photo.base64;\n        fetch('http://128.189.75.66:5000/process-image', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            image: base64Image\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          console.log(data);\n          alert(\"Product Description: \" + data.choices[0].message.content);\n        }).catch(function (error) {\n          console.error('Error:', error);\n        });\n      }\n    });\n    return function takePicture() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      children: \"Welcome to VisionPlus\"\n    }), _jsx(CameraComponent, {\n      cameraRef: cameraRef\n    }), _jsx(Button, {\n      title: \"Take Photo\",\n      onPress: takePicture\n    }), _jsx(Button, {\n      title: \"Speak Command\",\n      onPress: function onPress() {\n        return handleVoiceCommand('example command');\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    height: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\nexport default App;","map":{"version":3,"names":["React","useState","useRef","View","Text","StyleSheet","Button","CameraComponent","jsx","_jsx","jsxs","_jsxs","App","cameraRef","handleVoiceCommand","command","console","log","takePicture","_ref","_asyncToGenerator","current","photo","takePictureAsync","base64","base64Image","fetch","method","headers","body","JSON","stringify","image","then","response","json","data","alert","choices","message","content","catch","error","apply","arguments","style","styles","container","children","title","onPress","create","flex","width","height","justifyContent","alignItems","backgroundColor"],"sources":["C:/Users/12969/VisionPlusMobileApp/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { View, Text, StyleSheet, Button } from 'react-native';\nimport CameraComponent from './CameraComponent'; // Ensure this path is correct\n\nconst App = () => {\n  const cameraRef = useRef(null);\n  // Function to handle voice commands\n  const handleVoiceCommand = (command) => {\n    // Process and perform the action\n    console.log(command);\n  };\n  \n  // In your App.js\nconst takePicture = async () => {\n  if (cameraRef.current) {\n    let photo = await cameraRef.current.takePictureAsync({ base64: true });\n    console.log(photo.base64); // Add this line to log the base64 string\n    const base64Image = photo.base64;\n\n    // Send the image to your backend\n    fetch('http://128.189.75.66:5000/process-image', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        image: base64Image\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n  // Handle the response from the backend\n  console.log(data); // Log the response from the backend\n\n  // Assuming the response contains the description, you can display it\n  alert(\"Product Description: \" + data.choices[0].message.content);\n})\n.catch(error => {\n  console.error('Error:', error);\n});\n\n  }\n};\n\n\n  // The render function\n  return (\n    <View style={styles.container}>\n      <Text>Welcome to VisionPlus</Text>\n      <CameraComponent cameraRef={cameraRef} />\n      <Button\n        title=\"Take Photo\"\n        onPress={takePicture}\n      />\n      <Button\n        title=\"Speak Command\"\n        onPress={() => handleVoiceCommand('example command')}\n      />\n    </View>\n  );\n};\n\n// StyleSheet for your components\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    height: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  // Other styles as needed\n});\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,MAAA;AAEhD,OAAOC,eAAe;AAA0B,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEhD,IAAMC,GAAG,GAAG,SAANA,GAAGA,CAAA,EAAS;EAChB,IAAMC,SAAS,GAAGX,MAAM,CAAC,IAAI,CAAC;EAE9B,IAAMY,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,OAAO,EAAK;IAEtCC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;EACtB,CAAC;EAGH,IAAMG,WAAW;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;MAC9B,IAAIP,SAAS,CAACQ,OAAO,EAAE;QACrB,IAAIC,KAAK,SAAST,SAAS,CAACQ,OAAO,CAACE,gBAAgB,CAAC;UAAEC,MAAM,EAAE;QAAK,CAAC,CAAC;QACtER,OAAO,CAACC,GAAG,CAACK,KAAK,CAACE,MAAM,CAAC;QACzB,IAAMC,WAAW,GAAGH,KAAK,CAACE,MAAM;QAGhCE,KAAK,CAAC,yCAAyC,EAAE;UAC/CC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBC,KAAK,EAAEP;UACT,CAAC;QACH,CAAC,CAAC,CACDQ,IAAI,CAAC,UAAAC,QAAQ;UAAA,OAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC;QAAA,EAAC,CACjCF,IAAI,CAAC,UAAAG,IAAI,EAAI;UAEhBpB,OAAO,CAACC,GAAG,CAACmB,IAAI,CAAC;UAGjBC,KAAK,CAAC,uBAAuB,GAAGD,IAAI,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACC,OAAO,CAAC;QAClE,CAAC,CAAC,CACDC,KAAK,CAAC,UAAAC,KAAK,EAAI;UACd1B,OAAO,CAAC0B,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;QAChC,CAAC,CAAC;MAEA;IACF,CAAC;IAAA,gBA7BKxB,WAAWA,CAAA;MAAA,OAAAC,IAAA,CAAAwB,KAAA,OAAAC,SAAA;IAAA;EAAA,GA6BhB;EAIC,OACEjC,KAAA,CAACR,IAAI;IAAC0C,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5BvC,IAAA,CAACL,IAAI;MAAA4C,QAAA,EAAC;IAAqB,CAAM,CAAC,EAClCvC,IAAA,CAACF,eAAe;MAACM,SAAS,EAAEA;IAAU,CAAE,CAAC,EACzCJ,IAAA,CAACH,MAAM;MACL2C,KAAK,EAAC,YAAY;MAClBC,OAAO,EAAEhC;IAAY,CACtB,CAAC,EACFT,IAAA,CAACH,MAAM;MACL2C,KAAK,EAAC,eAAe;MACrBC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMpC,kBAAkB,CAAC,iBAAiB,CAAC;MAAA;IAAC,CACtD,CAAC;EAAA,CACE,CAAC;AAEX,CAAC;AAGD,IAAMgC,MAAM,GAAGzC,UAAU,CAAC8C,MAAM,CAAC;EAC/BJ,SAAS,EAAE;IACTK,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,MAAM;IACdC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,QAAQ;IACpBC,eAAe,EAAE,MAAM;IACvBD,UAAU,EAAE,QAAQ;IACpBD,cAAc,EAAE;EAClB;AAEF,CAAC,CAAC;AAEF,eAAe3C,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}